---
title: '❄️ Airtable Search Checker Workflow'
description: 'This workflow checks for records in Airtable based on provided query parameters. It receives a webhook request with Airtable base ID, table ID, and a formula to search by. It then performs the search and returns the results or an error.'
api: "POST /check-airtable-record"
---

## Workflow Details

- **Workflow ID**: `8O72UfKslCLrPZp6`
- **Server**: churchmediasquad.app.n8n.cloud
- **Status**: Active
- **Created**: June 24, 2025
- **Last Updated**: June 24, 2025

## Webhook Endpoint

```
POST https://churchmediasquad.app.n8n.cloud/webhook/check-airtable-record
```

## Workflow Process

### 1. Sticky Note
- **Purpose**: This sticky note serves as a critical warning for developers, emphasizing that changing the webhook's path will impact multiple workflows. It is a crucial reminder for maintaining system stability.

### 2. Webhook Trigger
- **Path**: `/check-airtable-record`
- **Method**: POST
- **Response Mode**: `responseNode`
- **Purpose**: This node acts as the entry point for the workflow, receiving incoming webhook requests. It expects query parameters for `base_id`, `table_id`, and `formula` to specify the Airtable search criteria.

### 3. Airtable Search
- **Base**: Dynamically set using the `base_id` from the webhook query (`={{ $('Webhook').first().json.query.base_id }}`).
- **Table**: Dynamically set using the `table_id` from the webhook query (`={{ $('Webhook').first().json.query.table_id }}`).
- **Operation**: `search`
- **Authentication**: Uses the 'Acee's Connection' Airtable OAuth2 API credential.
- **Filter By Formula**: Dynamically set using the `formula` from the webhook query (`={{ $('Webhook').first().json.query.formula }}`).
- **Purpose**: This node queries the specified Airtable base and table using the provided formula to find matching records.

### 4. If1 (Conditional Logic)
- **Conditions**: Checks if the `id` field exists in the results from the Airtable search.
- **Purpose**: This node determines whether the Airtable search returned any records. If a record with an `id` is found, it proceeds to the "Respond to Webhook" node; otherwise, it routes to the "Error" node.

### 5. Respond to Webhook (Success)
- **Respond With**: `allIncomingItems`
- **Purpose**: If the "If1" condition is met (meaning records were found), this node sends the search results back as the webhook response.

### 6. Error (Respond to Webhook)
- **Response Code**: `400`
- **Respond With**: `noData`
- **Purpose**: If the "If1" condition is not met (no records found or an error occurred), this node sends a "Bad Request" response with no data back to the webhook caller. This node is set to execute only once.

## Data Flow

Webhook Trigger -> Airtable Search -> If1 (Conditional Logic)
    - If True: Respond to Webhook (Success)
    - If False: Error (Respond to Webhook)

## Authentication

### Airtable
- **Type**: OAuth2 API
- **Credential ID**: `jBHiG9dORxXca5We`
- **Credential Name**: `Acee's Connection`

## Error Handling

- **Error Workflow**: `6hQvch97iNP5ny1i` (This workflow is triggered if an unhandled error occurs.)
```